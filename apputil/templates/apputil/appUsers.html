{% extends 'base.html'%}
<!--prettier-ignore-->
{% block title%} mysite{% endblock %}
{% block content %}

<!-- Include -->
<div class="d-flex flex-row justify-content-between vh-100">
  {%include 'utils/topbar.html' with list_url='userslist' card_url='userslist'%}
  <!-- Sidebar View -->
  {%include "utils/sidebar.html"%}
  <!-- Main View -->
  <div class="main d-flex flex-column">
         <!-- prettier-ignore -->
    {%include 'utils/main_horizalbar.html' with create_object='createAppUser' create_objectModal='createAppUserModal' %}
    <!-- prettier-ignore -->

    <div class="fixTableHead">
      <table
        class="table table-small table-bordered sorting_table table-hover bg-light"
      >
        <thead>
          <tr>
            {%for field in fields%}
            <th class="order_field" style="width: fit-content">{{field}}</th>
            {%endfor%}
            <th scope="col">Edit</th>
          </tr>
        </thead>
        <tbody hx-target="closest tr" hx-swap="outerHTML">
          {% for object in page_obj %}
          <!--  -->
          {%include 'apputil/appuser_tr.html'%}
          <!--  -->
          {%endfor%}
        </tbody>
      </table>
    </div>
  </div>
</div>
<!--prettier-ignore-->

<div id="createAppUserModal" class="modal fade" role="dialog"></div>
<script>
  $(document).ready(function () {
    let my_modal = $("#createAppUserModal");

    $("#createAppUser").click(function () {
      my_modal.load("{%url 'createAppUser' %}", function () {
        my_modal.modal("show"); // Open Modal
      });
    });
  });
</script>
{%endblock%}
