{% extends "base.html" %}
{% block content %}
<div class="d-flex flex-row bg-light justify-content-between vh-100">
  {%include "utils/sidebar.html"%}
  <div class="main d-flex flex-column">
    <div class="d-flex flex-wrap justify-content-between">
      <a href="{%url 'importOrg'%}" class="btn btn-outline-secondary"><i class="bi bi-cloud-arrow-up"></i>import
        organisms</a>
      <div>

        <a href="{%url 'org_list'%}" class="btn btn-outline-secondary"><i class="bi bi-list"></i></a>
        <a href="{%url 'org_card'%}" class="btn btn-outline-secondary"><i class="bi bi-grid-fill"></i></a>
      </div>
    </div>
    <hr>

    <div id="createOrganism">

      <a class="btn m-auto" style="float:right;">Create New Organism
        <i class="bi bi-plus"></i>
      </a>
    </div>

    <div id="createOrganismModal" class="modal fade" role="dialog">
    </div>
    <script>

      $(document).ready(function () {

        let my_modal = $("#createOrganismModal");

        $("#createOrganism a").click(function () {
          my_modal.load("{%url 'org_create'%}", function () {
            my_modal.modal("show"); // Open Modal

          });
        });
      });

    </script>


    <h2>Organism Table</h2>
    <div class="contain-fluid">
      <div class="row d-flex flex-wrap">
        {% for object in object_list %}

        <div class="col-md-4 vh-80">
          <div class="card bg-transparent my-2">
            <div class="card-body">
              {%load static%}

              <img class="card-img m-auto" src="{%static 'images/'%}{{object.id}}.svg" alt="Structure" />
              <p class="lead fs-4 m-auto">ID: {{object.ID}}</p>
              <h5 class="bi bi-tag fw-bold lead fs-4 m-auto">
                Name: {{object.Organism_Name}}
              </h5>

              <div class="text-center" type="button" data-bs-toggle="collapse" data-bs-target="#collapse{{taxo.id}}"
                aria-expanded="false" aria-controls="{{taxo.id}}">
                <i class="bi bi-chevron-bar-down"></i><i class="bi bi-chevron-bar-up"></i>
              </div>

              <div class="collapse" id="collapse{{taxo.id}}">
                <div class="card-body d-flex flex-column align-items-start">
                  ...informations
                </div>
              </div>
            </div>
          </div>
        </div>
        {%endfor%}
      </div>
      <hr />
      {% include 'utils/pagination.html'%}
    </div>
    {% load static %}
    <script type="text/javascript" src="{% static 'js/jquery-3.6.1.min.js' %}"></script>
    <!-- <script>
      $(document).ready(() => {
        console.log("loading document")
        $('a.switch').click(function () {
          var url = this.href + '?' + window.location.href.split('?')[1];
          window.location.href = url;
          return false;
        });
      })

    </script> -->

    {%endblock%}