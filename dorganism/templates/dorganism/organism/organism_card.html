<!--prettier-ignore-->
{% extends "base.html" %}
<!--prettier-ignore-->
{% block title%}COADD{% endblock %}
<!--  -->
{% block content%}
<!--  -->
{%include 'utils/topbar.html' %}
<div class="d-flex flex-row justify-content-between vh-100">
  <!-- Sidebar View -->
  {%include "utils/sidebar.html"%}
  <!-- Main View -->
  <div class="main d-flex flex-column">
    <div class="d-flex flex-wrap justify-content-between m-2 align-items-baseline">
      {% include 'utils/pagination.html'%}
      <!-- Swich Table/Card View -->
      <div class="m-0">
        <a href="{%url 'org_list'%}" class="btn btn-outline-secondary"><i class="bi bi-list"></i></a>
        <a href="{%url 'org_card'%}" class="btn btn-outline-secondary">
          <i class="bi bi-grid-fill"></i>
        </a>
      </div>
      <!-- End -->
      <!-- Call Create Taxonomy  Modal-->
      <div class="row d-flex flex-wrap m-0 border">
        <a id="createOrganism" class="card-link" style="float: right">Add<i class="bi bi-plus"></i>
        </a>
        <div id="createOrganismModal" class="modal fade" role="dialog" data-bs-backdrop="static"></div>
      </div>
      <!-- End---------------------- -->

      <!--  -->
      {%include 'utils/selectAllExp.html'%}

    </div>
    <!-- Card View Content -->
    <div class="contain-fluid">
      <div class="row d-flex flex-wrap mx-2">
        {% for object in page_obj %}
        <!--  -->
        {% url 'org_detail' object.pk as url_name %}
        <!--prettier-ignore-->
        {%include 'utils/card.html' with url_name=url_name object_id=object.organism_id datatype='Organism' object_var1=object.strain_code object_var2=object.organism_name object_var3=object.strain_ids object_var5_label="Type" object_var5=object.strain_type object_id_slug=object.organism_id object_var6_label="Phenotype" object_var6=object.res_property object_var7_label="Genotype" object_var7=object.gen_property %}
        <!--prettier-ignore-->
        {%endfor%}
      </div>
    </div>
  </div>
</div>


<div class="modal fade" id="exampleModalToggle" aria-hidden="true" aria-labelledby="exampleModalToggleLabel" tabindex="-1">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalToggleLabel">SELECT CLASS TYPE </h5>
       <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
       <button class="form-control-sm btn-outline-danger my-2" type="reset" onclick="myfun_class('GN')">GN</button>
        <button class="form-control-sm btn-outline-danger my-2" type="reset" onclick="myfun_class('GP')">GP</button>
        <button class="form-control-sm btn-outline-danger my-2" type="reset" onclick="myfun_class('FG')">FG</button>
        <button class="form-control-sm btn-outline-danger my-2" type="reset" onclick="myfun_class('MB')">MB</button>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>

{%load static%}
<script type="text/javascript" src="{%static 'js/modal/create_organism.js'%}"></script>

<script>
    function myfun_class(x){
    form = document.getElementById("django-filter-siderbar")
    
    form.querySelectorAll(`input[value=${x}]`).forEach(item => item.setAttribute("checked", "true"))
    form.submit();
}

  $(window).on('load', function() {
      if(window.sessionStorage.fist_load_modal1 === undefined){
          $('#exampleModalToggle').modal('show');
          window.sessionStorage.fist_load_modal1 = true
      }
      
  });
          
</script>

{%endblock%}