<!--prettier-ignore-->
{% extends 'base.html'%}
<!--prettier-ignore-->
{% block title%} mysite{% endblock %}
<!--prettier-ignore-->
{% block content%}


<div class="position-relative w-100 vh-100 bg-transparent">
  <div class="row bg-transparent">
    <h1>Screening data</h1>
  </div>
  <div class="d-flex flex-row bg-light h-75 justify-content-between">
    <div id="sidebar" class="text-secondary" style="overflow: scroll">
      <form class="text-dark" action="{% url 'dataimport' %}" method="POST">
        {%csrf_token%}
        <label class="form-label mt-3">Import .sdf file <br />by enter full file path<br />
          multiple files seperated directly by ","</label>
        <input class="form-control-sm" name="fdata" type="text" />
        <input class="btn btn-outline-secondary my-2" class="form-control-sm" type="submit" value="Import..." />
      </form>
      <hr />
      <h4 id="item-1">Search</h4>
      <form role="search" method="POST" class="form-group mx-5">
        {%csrf_token%}
        <div class="input-group input-group-sm">
          <input type="text" name="search" class="text-dark my-1" placeholder="Search for "
            aria-describedby="inputGroup-sizing-sm" />
          <button type="submit" class="btn btn-outline-warning btn-sm my-1">
            <i class="bi bi-search"> IN</i>
          </button>
          <select class="rounded my-1" name="field" id="floatingSelectGrid">
            <option value="drug_name">durgName</option>
            <option value="status" selected>status</option>
            <option value="drug_id">drug_id</option>
          </select>
        </div>
      </form>

      <hr />
      <a href="{%url 'taxo_create'%}">Create New Taxo</a>
      <a href="{%url 'taxo_list'%}">List Taxo</a>

      <hr>
      <h4 id="item-2">Filter</h4>
      <h5 id="item-1-1">Item 1-1</h5>
      <p>...</p>
      <h5 id="item-1-2">Item 1-2</h5>
      <p>...</p>
      <p>...</p>
    </div>
    <div id="resizer"></div>
    <div class="main d-flex flex-column border border-dark ">

      <div class="pagination">
        <span class="step-links m-auto text-dark">
          {% if mylist.has_previous %}
          <a href="?page=1">&laquo; first</a>
          <a href="?page={{ mylist.previous_page_number }}">previous</a>
          {% endif %}

          <span class="current">
            Page {{ mylist.number }} of {{ mylist.paginator.num_pages }}
          </span>

          {% if mylist.has_next %}
          <a href="?page={{ mylist.next_page_number }}">next</a>
          <a href="?page={{ mylist.paginator.num_pages }}">last &raquo;</a>
          {%else%}
          <span>End of pages</span>
          {% endif %}
        </span>
      </div>
      <div class="container border border-dark">

        <div>
          <a href="#" id="list" class="btn btn-sm">List View</a>
          <a href="#" id="grid" class="btn btn-sm">Grid View</a>
        </div>

        <div id="all_comps" class="row d-flex flex-wrap">
          {% for comp in mylist %}

          <div id="component" class="col">
            <div class="card bg-transparent my-2">
              <div class="card-body d-flex flex-column align-items-start h-100">
                <h5 class="bi bi-tag fw-bold lead fs-4">{{comp.drug_id}}</h5>
                <p class="lead fs-5 text-dark">ChemdbID: {{comp.drug_name}}</p>
                <p class="fw-bold lead fs-5 text-success">
                  <!-- Identification of average molecular weight {{comp.amw}} -->
                </p>
                <!--prettier-ignore-->
                {%load static%}

                <img class="card-img-bottom " src="{%static 'images/'%}{{comp.id}}.png" />
              </div>
            </div>

            <!-- ------------------------------------------------------------------------------------------------------- -->

            <!-- ------------------------------------------------------------------------------------------------------------------------------- -->
          </div>
          {%endfor%}


        </div>
      </div>
    </div>
  </div>
</div>
<script>
  $(document).ready(function () {
    $('#list').click(function (event) { event.preventDefault(); $('#all_comps .component').addClass('myrow'); });
    $('#grid').click(function (event) { event.preventDefault(); $('#all_comps .component').removeClass('myrow'); });
  })

</script>
<script>
  const resizer = document.querySelector("#resizer");
  const sidebar = document.querySelector("#sidebar");

  resizer.addEventListener("mousedown", (event) => {
    document.addEventListener("mousemove", resize, false);
    document.addEventListener(
      "mouseup",
      () => {
        document.removeEventListener("mousemove", resize, false);
      },
      false
    );
  });

  function resize(e) {
    var sdsize = Math.min(800, e.x);
    const size = `${sdsize}px`;
    sidebar.style.flexBasis = size;
  }
</script>

<!--prettier-ignore-->
{% endblock%}