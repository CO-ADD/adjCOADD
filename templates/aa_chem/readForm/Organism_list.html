{% extends "base.html" %}
{% block content %}

<div id="tabs">
    <ul class="nav nav-tabs" id="prodTabs">
        <li class="active"><a href="#tab_basic">orgview </a></li>
        <hr>
        <li><a href="#tab_images" data-url="{%url 'org_card'%}">Tableview </a></li>

    </ul>
    <div class="tab-content">
        <div id="tab_basic" class="tab-pane active">



            <h2>Organism</h2>

            <div class="row d-flex flex-wrap all_comp">
                {% for object in page_obj %}

                <div class="col-md-12 compounds">
                    <div class="card bg-transparent my-2 flex-row">
                        <div class="card-img ml-2 border border-5" style="width:400px">

                            {%load static%}
                            <img style="height:300px;" src="{%static 'images/'%}{{object.id}}.svg" alt="Structure" />
                        </div>
                        <p class="lead fs-4 m-auto"> <a
                                href="{%url 'org_detail' object.Organism_ID %}">{{object.Organism_Name}}</a> <br> ID:
                            {{object.Organism_ID}} | <a href="{%url 'organism_update' object.Organism_ID %}">Update</a>
                        </p>



                        <p><a href="{% url 'organism_delete' object.Organism_ID %}">Delete</a></p>
                        <h5 class="bi bi-tag fw-bold lead fs-4 m-auto"> Name: {{object.Risk_Group}}</h5>
                        <p>
                        <div class="text-center" type="button" data-bs-toggle="collapse"
                            data-bs-target="#collapse{{taxo.id}}" aria-expanded="false" aria-controls="{{taxo.id}}">
                            <i class="bi bi-chevron-bar-down"></i><i class="bi bi-chevron-bar-up"></i>
                        </div>

                        </p>
                        <div class="collapse" id="collapse{{taxo.id}}">

                            <div class="card-body d-flex flex-column align-items-start">


                                <!--prettier-ignore-->

                            </div>
                        </div>
                    </div>

                    <!-- ------------------------------------------------------------------------------------------------------- -->

                    <!-- ------------------------------------------------------------------------------------------------------------------------------- -->
                </div>
                {%endfor%}


            </div>
            <hr>
            <div class="pagination">
                <span class="step-links">
                    {% if page_obj.has_previous %}
                    <a href="?page=1">&laquo; first</a>
                    <a href="?page={{ page_obj.previous_page_number }}">previous</a>
                    {% endif %}

                    <span class="current">
                        Page {{ page_obj.number }} of {{ page_obj.paginator.num_pages }}.
                    </span>

                    {% if page_obj.has_next %}
                    <a href="?page={{ page_obj.next_page_number }}">next</a>
                    <a href="?page={{ page_obj.paginator.num_pages }}">last &raquo;</a>
                    {% endif %}
                </span>
            </div>


        </div>
        <div id="tab_images" class="tab-pane active">

        </div>

    </div>

    <script>
        //the reason for the odd-looking selector is to listen for the click event
        // on links that don't even exist yet - i.e. are loaded from the server.
        $('#tabs').on('click', '.tablink,#prodTabs a', function (e) {
            e.preventDefault();
            var url = $(this).attr("data-url");

            if (typeof url !== "undefined") {
                var pane = $(this), href = this.hash;

                // ajax load from data-url
                $(href).load(url, function (result) {
                    pane.tab('show');
                });
            } else {
                $(this).tab('show');
            }
        });
    </script>


    {% endblock %}