{%include './preloader.html'%}

<h5>{%include 'utils/message.html'%}</h5>
<table id="datatable_general" class="table cell-border" style="width: 100%">
  <thead>

    <tr>
      {%for field in fields%}
      <th>{{field}} <button class="order_button" data-name="{{field}}">order</button></th>
      {%endfor%}
      <th>NCBI Tax ID <button data-name="tax_id">order</button></th>
    </tr>
  </thead>

  <tbody>
    {% for object in page_obj%}
    <tr>
      {%for value in object.get_values%}
      <td>{{value}}</td>
      {%endfor%}
      <td>
        <a class="card-link" href="https://www.ncbi.nlm.nih.gov/Taxonomy/Browser/wwwtax.cgi?id={{object.tax_id}}
        " target="_blank"> {{object.tax_id}}</a>

        </a>
      </td>
    </tr>
    {%endfor%}
  </tbody>
</table>

{%load static%}
<script type="text/javascript" src="{% static 'js/js_utils/dataTables.min.js'%}"></script>

<script>
  $(document).ready(function () {
    $(".order_button").click(function () {
      var order_name = $(this).data("name");
      console.log(order_name);
      $("input[data-name='order_input']").value = order_name;
      $("#django-filter-siderbar").submit();
      // console.log("submit form")

    })



    //   $("#datatable_general").DataTable({
    //     searching: true,
    //     paging: false,
    //     order: [[3, 'desc']],
    //   });
  });

</script>